#Where the boost include files and directories can be found:
BOOST_INCLUDE = /usr/local/include/boost-1_39

#Where the include files for Bio++ can be found:
BIOPP_INCLUDE = /usr/local/include


#Where the Bio++ libraries can be found:
BIOPP_LIBRARIES = /usr/local/lib

#Where the Boost libraries can be found:
BOOST_LIBRARIES = /usr/local/lib

#Where the sources are:
SRC = src/


#Debugging compilation options
#CC = mpic++ -m64 -g -Wall -I $(BOOST_INCLUDE) 

#Efficient compilation options
CC = mpic++ -m64 -O3 -I $(BOOST_INCLUDE)


LL =  -L/usr/local/lib -L$(BIOPP_LIBRARIES) -L$(BOOST_LIBRARIES) -lboost_serialization -lboost_mpi

#LB = -L$(BOOST_LIBRARIES) -L$(BIOPP_LIBRARIES)  

ReconcileDuplications : ReconcileDuplications.o SpeciesTreeLikelihood.o ReconciliationTreeLikelihood.o ReconciliationTools.o SpeciesTreeExploration.o
	$(CC) -o ReconcileDuplications ReconcileDuplications.o SpeciesTreeLikelihood.o ReconciliationTreeLikelihood.o ReconciliationTools.o SpeciesTreeExploration.o -lbpp-phyl -lbpp-seq -lbpp-numcalc -lbpp-utils $(LL)
#	$(CC)  --static  -o ReconcileDuplications ReconcileDuplications.o ReconciliationTreeLikelihood.o ReconciliationTools.o -lbpp-phyl -lbpp-seq -lbpp-numcalc -lbpp-utils

ReconcileDuplications.o : $(SRC)ReconcileDuplications.cpp SpeciesTreeLikelihood.o ReconciliationTools.o SpeciesTreeExploration.o
	$(CC) -c $(SRC)ReconcileDuplications.cpp $(SRC)ReconciliationTools.h 
  
SpeciesTreeLikelihood.o : $(SRC)SpeciesTreeLikelihood.cpp $(SRC)SpeciesTreeLikelihood.h $(SRC)SpeciesTreeExploration.h
	$(CC) -c $(SRC)SpeciesTreeLikelihood.cpp $(SRC)SpeciesTreeLikelihood.h $(SRC)SpeciesTreeExploration.h

ReconciliationTreeLikelihood.o : $(SRC)ReconciliationTreeLikelihood.cpp $(SRC)ReconciliationTreeLikelihood.h ReconciliationTools.o
	$(CC) -c $(SRC)ReconciliationTreeLikelihood.cpp $(SRC)ReconciliationTreeLikelihood.h $(SRC)ReconciliationTools.h 

SpeciesTreeExploration.o : $(SRC)SpeciesTreeExploration.cpp $(SRC)SpeciesTreeExploration.h $(SRC)ReconciliationTools.h
	$(CC) -c $(SRC)SpeciesTreeExploration.cpp $(SRC)SpeciesTreeExploration.h $(SRC)ReconciliationTools.h

ReconciliationTools.o : $(SRC)ReconciliationTools.cpp $(SRC)ReconciliationTools.h
	$(CC) -c $(SRC)ReconciliationTools.cpp $(SRC)ReconciliationTools.h 
clean :
	rm *.o
